
{% extends "layout.html" %}
{% block content %}

<div class="container mt-4">
  <h2 class="text-center text-warning mb-4">ðŸš€ Trade Alerts</h2>
  <table class="table table-dark table-striped alerts-table">
    <thead>
      <tr>
        <th>Time</th>
        <th>Symbol</th>
        <th>Name</th>
        <th>Price</th>
        <th>VWAP</th>
        <th>VWAP Diff</th>
        <th>Qty</th>
        <th>Buy</th>
        <th>Clear</th>
        <th>Spark</th>
        <th>Triggers</th>
      </tr>
    </thead>
    <tbody>
      {% for alert in alerts %}
      <tr>
        <td>{{ alert.time }}</td>
        <td>{{ alert.symbol }}</td>
        <td>{{ alert.name }}</td>
        <td>${{ "%.2f"|format(alert.price) }}</td>
        <td>${{ "%.2f"|format(alert.vwap or 0) }}</td>
        <td>${{ "%.2f"|format(alert.vwap_diff or 0) }}</td>
		<td>
		<td>
		  <input type="number" class="qty-input" min="1" value="1" />
		</td>
		<td>
		  <button
			class="btn btn-success btn-sm buy-btn"
			data-symbol="{{ alert.symbol }}"
		  >Buy</button>
		</td>
		<td>
		  <button
			class="btn btn-danger btn-sm clear-btn"
			data-id="{{ alert.id }}"
		  >Clear</button>
		</td>

		<td>
		  {% if alert.sparkline %}
			{{ alert.sparkline | safe }}
		  {% endif %}
		</td>
        <td>
          {{ alert.trigger }}
        </td>
      </tr>
      {% endfor %}
    </tbody>
    </table>
  </div>

  <!-- Replace this:
  <script src="{{ url_for('static', filename='js/simulation.js') }}"></script>
  -->
  <script src="{{ url_for('static', filename='js/alerts.js') }}"></script>
{% endblock %}
